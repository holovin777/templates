{% extends "oscar/base.html" %}
{% load staticfiles %}
{% load i18n %}

{% block layout %}
    {# Site logo/title, mini-basket, browse dropdown and searchbox #}
    <div class="">
        <nav class="navbar navbar-expand-lg navbar-dark">
{% block brand_title %}
  <a class="navbar-brand text-primary" href="{{ homepage_url }}">
    <img src="{% static "logowhite.svg" %}" height="30" alt=""> {{ shop_name }} <small class="text-secondary"> {{ shop_tagline }}</small>
  </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link btn" href="/home">{% trans "Home" %} <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link btn" href="/">{% trans "Browse store" %} </a>
      </li>
      <li class="nav-item">
              <a class="nav-link btn" data-toggle="modal" data-target="#aboutModal">{% trans "About" %} </a>
	      <!-- Modal -->
              <div class="modal fade" id="aboutModal" tabindex="-1" role="dialog" aria-labelledby="aboutModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                  <div class="modal-content bg-dark">
                    <div class="modal-header">
                      <h5 class="modal-title" id="aboutModalLabel">About</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="modal-body">
                      Web application
                    </div>
                  </div>
                </div>
              </div>
      </li>
    </ul>
                {# Mini-basket wrapped in a block so some templates can now display it #}
                {% block mini_basket %}{% include "oscar/partials/mini_basket.html" %}{% endblock %}
  </div>
{% endblock %}
        </nav>
    </div>
    <br>
    {% if images %}
      <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
	  {%  if images|length > 1 %}
	    {% for image in images %}
	      <div class="carousel-item{% if image.active %} active{% endif %}">
		      <img src="{% if image.image_url %}{{ image.image_url }}{% else %}{{ image.image_file.url }}{% endif %}" class="d-block" style="max-height: 64px; margin: 0 auto" alt="...">
              </div>
	    {% endfor %}
              <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </a>
              <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </a>
	  {% else %}
            {% for image in images %}
	      <div class="carousel-item{% if image.active %} active{% endif %}">
		<img src="{% if image.image_url %}{{ image.image_url }}{% else %}{{ image.image_file.url }}{% endif %}" class="d-block" style="max-height: 64px; margin: 0 auto" alt="...">
              </div>
            {% endfor %}
          {% endif %}
        </div>
      </div>
    {% endif %}
    <div class="text-center">
      <h5>Devices</h5>
    </div>
    <div class="text-center">
      <a href="/" type="button" class="btn btn-outline-primary">Show all</a>
    </div>

    {# Main content of page - other layout templates may override this block #}
    {% include "oscar/partials/footer.html" %}
{% endblock %}

{% block onbodyload %}
    {{ block.super }}
    oscar.init();
{% endblock %}
